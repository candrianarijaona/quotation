{% extends 'layout.html.twig' %}

{% import 'Default/forms.html.twig' as forms %}

{% block ribbon %}
    <div id="ribbon">
        <ol class="breadcrumb"><li><a href="{{ path_for('home') }}">Accueil</a></li><li><a href="{{ path_for('article-list') }}">Article</a></li><li>Edition</li></ol>
    </div>
{% endblock %}

{% block content %}
    {% include 'Default/form_open.html.twig' with {'title' : 'Hotel'} %}

        <form action="{{ path_for('article-save') }}" class="smart-form" method="post">
            <header>
                {% if article.id_article %}Modification{% else %}Nouveau{% endif %}
            </header>

            <fieldset>

                <input type="hidden" name="id_article" value="{{ article.id_article }}" />

                <section>
                    <label class="label">Désignation</label>
                    <label class="input {% if article.errors.label %}state-error{% endif %}">
                        <input type="text" id="label" name="label" value="{{ article.label }}" />
                    </label>
                    {% for error in article.errors.label %}
                        <div class="note note-error">{{ error }}</div>
                    {% endfor %}
                </section>

                {{ forms.select('id_categorie', 'Catégorie', article.id_categorie, article.errors.id_categorie, {'data': categories, 'id' : 'id_categorie', 'label' : 'label'}) }}

                <section>
                    <label class="label">Unité</label>
                    <label class="input {% if article.errors.unite %}state-error{% endif %}">
                        <input type="text" id="unite" name="unite" value="{{ article.unite }}" />
                    </label>
                    {% for error in article.errors.unite %}
                        <div class="note note-error">{{ error }}</div>
                    {% endfor %}
                </section>

            </fieldset>

            <footer>
                <button type="submit" class="btn btn-primary">
                    Enregistrer
                </button>
                <a type="button" class="btn btn-default" href="{{ path_for('article-list') }}">
                    Retour
                </a>
            </footer>
        </form>
    {% include 'Default/form_close.html.twig' %}
{% endblock %}
